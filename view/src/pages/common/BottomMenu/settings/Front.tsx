import React, {useCallback, useMemo} from "react";
import {runInAction} from "mobx";
import {observer, useLocalObservable} from "mobx-react";
import styles from "../style.scss";
import {Item} from "./Item";

export const FrontIcon: React.FC = React.memo(() => {
    return <svg className={styles.icon} width="36" height="36">
        <path d="M31.74 11.8944C29.8908 10.0465 27.7372 8.59555 25.339 7.58189C22.8557 6.53226 20.2183 6.00003 17.5 6.00003C14.7817 6.00003 12.1443 6.53226 9.66095 7.58189C7.26277 8.59561 5.1092 10.0466 3.26001 11.8945C2.97297 12.1814 2.91722 12.6263 3.1246 12.9751L9.98989 24.5196C10.1499 24.7887 10.4399 24.9535 10.7531 24.9535H11.6045C11.7148 25.367 11.8628 25.7653 12.0061 26.1506C12.143 26.5187 12.2724 26.8664 12.3609 27.2027C12.4475 27.5319 12.4896 27.8296 12.4896 28.1128C12.4896 28.6028 12.8871 29 13.3774 29C13.8677 29 14.2651 28.6028 14.2651 28.1128C14.2651 27.6753 14.2039 27.23 14.078 26.7516C13.9672 26.3303 13.8162 25.9246 13.6702 25.5323C13.5964 25.3339 13.525 25.1416 13.4608 24.9535H16.1906C16.3008 25.3668 16.4488 25.7652 16.5922 26.1507C16.7292 26.5188 16.8586 26.8665 16.947 27.2027C17.0337 27.532 17.0758 27.8298 17.0758 28.1129C17.0758 28.6028 17.4732 29 17.9635 29C18.4538 29 18.8513 28.6028 18.8513 28.1129C18.8513 27.6755 18.7901 27.2302 18.6641 26.7516C18.5533 26.3304 18.4024 25.9247 18.2564 25.5323C18.1825 25.3339 18.1111 25.1416 18.047 24.9535H20.7767C20.8869 25.3668 21.035 25.7653 21.1784 26.1507C21.3153 26.5187 21.4446 26.8662 21.5332 27.2027C21.6198 27.532 21.6619 27.8298 21.6619 28.1129C21.6619 28.6028 22.0594 29 22.5496 29C23.0399 29 23.4374 28.6028 23.4374 28.1129C23.4374 27.6755 23.3762 27.2302 23.2503 26.7516C23.1393 26.3301 22.9884 25.9246 22.8425 25.5323C22.7686 25.3339 22.6972 25.1416 22.6331 24.9535H24.2469C24.5601 24.9535 24.85 24.7887 25.0101 24.5196L31.8754 12.975C32.0828 12.6262 32.027 12.1813 31.74 11.8944ZM22.3852 23.1792C22.4063 23.0138 22.4401 22.8418 22.488 22.66C22.5764 22.3238 22.7058 21.9761 22.8428 21.608C22.9887 21.2157 23.1396 20.8102 23.2506 20.3887C23.3764 19.9101 23.4377 19.4648 23.4377 19.0274C23.4377 18.59 23.3765 18.1448 23.2506 17.6661C23.1939 17.4506 23.1266 17.2393 23.055 17.0317H23.7901C24.1271 17.0317 24.2959 16.6246 24.0575 16.3864L22.4293 14.7593C22.2816 14.6117 22.0421 14.6117 21.8944 14.7593L20.2662 16.3864C20.0279 16.6245 20.1966 17.0317 20.5336 17.0317H21.168C21.1717 17.0428 21.1745 17.0541 21.1786 17.0652C21.3155 17.4333 21.4449 17.781 21.5334 18.1172C21.62 18.4466 21.6622 18.7444 21.6622 19.0274C21.6622 19.3104 21.6201 19.6081 21.5335 19.9375C21.4449 20.274 21.3156 20.6216 21.1787 20.9896C21.0327 21.382 20.8816 21.7878 20.7709 22.2089C20.6822 22.5459 20.6263 22.8662 20.6006 23.1791H17.7992C17.8202 23.0137 17.854 22.8418 17.9019 22.6599C17.9903 22.3237 18.1197 21.976 18.2567 21.6078C18.4027 21.2155 18.5537 20.8098 18.6645 20.3885C18.7904 19.91 18.8516 19.4647 18.8516 19.0273C18.8516 18.5899 18.7904 18.1447 18.6645 17.666C18.6078 17.4506 18.5406 17.2393 18.4689 17.0316H19.1284C19.4654 17.0316 19.6342 16.6245 19.3959 16.3863L17.7677 14.7592C17.62 14.6116 17.3804 14.6116 17.2327 14.7592L15.6045 16.3863C15.3662 16.6244 15.535 17.0316 15.872 17.0316H16.5819C16.5856 17.0427 16.5884 17.054 16.5925 17.0651C16.7295 17.4333 16.8589 17.781 16.9473 18.1171C17.034 18.4464 17.0761 18.7442 17.0761 19.0272C17.0761 19.3103 17.034 19.608 16.9474 19.9374C16.8589 20.2737 16.7295 20.6213 16.5926 20.9894C16.4466 21.3819 16.2955 21.7877 16.1848 22.2087C16.0962 22.5458 16.0402 22.8662 16.0145 23.1791H13.2131C13.2342 23.0136 13.268 22.8417 13.3158 22.6599C13.4043 22.3235 13.5336 21.9758 13.6706 21.6078C13.8166 21.2154 13.9676 20.8097 14.0784 20.3885C14.2042 19.9101 14.2655 19.4648 14.2655 19.0272C14.2655 18.5898 14.2043 18.1445 14.0784 17.666C14.0217 17.4506 13.9545 17.2393 13.8828 17.0316H14.4667C14.8037 17.0316 14.9725 16.6244 14.7342 16.3862L13.106 14.7591C12.9582 14.6115 12.7187 14.6115 12.571 14.7591L10.9428 16.3862C10.7045 16.6244 10.8733 17.0316 11.2103 17.0316H11.9957C11.9994 17.0427 12.0022 17.054 12.0063 17.065C12.1433 17.4333 12.2727 17.781 12.3611 18.1171C12.4478 18.4463 12.4899 18.7441 12.4899 19.0272C12.4899 19.3104 12.4478 19.608 12.3611 19.9373C12.2727 20.2736 12.1433 20.6212 12.0063 20.9894C11.8604 21.3817 11.7094 21.7873 11.5986 22.2087C11.5099 22.5457 11.454 22.8661 11.4283 23.179H11.2584L5.01013 12.6726C8.41626 9.50855 12.8248 7.77434 17.5001 7.77434C22.1753 7.77434 26.5837 9.50849 29.9899 12.6724L23.7418 23.1792H22.3852Z" />
    </svg>;
});

export interface FrontStore {
    front: boolean;
}

export const Front: React.FC = observer(() => {
    const store = useLocalObservable<FrontStore>(() => ({
        front: true
    }));
    const {front} = store;

    const setFront = useCallback((front: boolean) => {
        runInAction(() => {
            store.front = front;
        });
    }, []);

    const toggleFront = useCallback(() => {
        setFront(!front);
    }, [front]);

    return <Item 
        icon={<FrontIcon />}
        name="Front"
        active={front}
        onClick={toggleFront}
    />;
});